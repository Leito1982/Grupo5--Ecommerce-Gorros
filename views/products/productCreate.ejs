<!DOCTYPE html>
<html lang="en">

<%- include('../partials/head', {title: 'Crear Producto', style: '/css/styleForms.css'}) %> 

<body>
    <%- include ("../partials/header") %> 
    
    <h2>Crear Producto</h2>
    <form id="formulario" action="/products/create" method="POST" enctype="multipart/form-data">

        <div class="form-control" id="camp-name">
            <label for="name">Nombre del Producto:</label>
            <input type="text" name="name" class="txt-control <%= locals.errors && errors.name ? 'is-invalid' : null %>" value="<%= locals.oldData ? oldData.name : null %>">
            <p class="input-error">El campo Nombre del Producto es obligatorio y debe tener al menos 5 caracteres</p>
        </div>
        <% if (locals.errors && errors.name) { %>
            <div class="text-danger">
                <%= errors.name.msg %> 
            </div>
        <% } %>   

        <div class="form-control" id="camp-description">
            <label for="description">Descripción:</label>
            <textarea id="description" name="description" cols="30" rows="10" class="txt-control  <%= locals.errors && errors.description ? 'is-invalid' : null %>" value="<%= locals.oldData ? oldData.description : null %>"></textarea>
            <p class="input-error">El campo Descripción debe tener al menos 20 caracteres</p>
        </div>
        <% if (locals.errors && errors.description) { %>
            <div class="text-danger">
                <%= errors.description.msg %> 
            </div>
        <% } %>   

        <div class="form-control" id="camp-image">
            <label for="image">Fotos del producto:</label>
            <input type="file" name="image">
            <p class="input-error">la Foto del producto debe ser de alguno de los siguientes formatos: .jpg, .gif, .png, .jpeg o .webp</p>
        </div>

        <div class="form-control">
            <label for="price">Precio:</label>
            <input type="number" name="price" class="txt-control">
        </div>
        
        <div class="form-control">
            <label for="category">Categoría:</label>
            <select name="category" >
                <% categories.forEach(category => { %>

                    <option value="<%= category.id %>"><%= category.category_name %></option>

                <% }) %>
            </select>
        </div>
        <div class="form-control">
            <label for="size">Talle:</label>
            <select name="size" >
                <% sizes.forEach(size => { %>

                    <option value="<%= size.id %>"><%= size.size_name %></option>
                 
                <% }) %>   
            </select>
        </div>

        

        <div class="botones">
            <button type="submit">Guardar</button>
            <button type="reset">Borrar</button>
        </div>
    </form>

    <!-- Script de los iconos -->
    <script src="https://kit.fontawesome.com/6cd48854d2.js" crossorigin="anonymous"></script>
    <script src="/js/validationsFrontProduct.js"></script>
</body>
</html>

